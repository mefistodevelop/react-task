(this["webpackJsonpreact-task"]=this["webpackJsonpreact-task"]||[]).push([[0],{340:function(e,a){function t(e){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=340},363:function(e,a,t){e.exports=t(458)},368:function(e,a,t){},369:function(e,a,t){},370:function(e,a,t){},371:function(e,a,t){},394:function(e,a,t){},395:function(e,a,t){},396:function(e,a,t){},454:function(e,a,t){},455:function(e,a,t){},456:function(e,a,t){},458:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(16),c=t.n(l),i=(t(368),t(15)),s=(t(369),t(27)),o=(t(370),t(487)),m=(t(371),t(61));function u(){return r.a.createElement("nav",{className:"navigation"},r.a.createElement("ul",{className:"navigation__list"},r.a.createElement("li",{className:"navigation__item"},r.a.createElement(m.b,{className:"navigation__link",to:"/terminals"},"\u0422\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u044b")),r.a.createElement("li",{className:"navigation__item"},r.a.createElement(m.b,{className:"navigation__link",to:"/buyers"},"\u041f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u0438"))))}var d=t(311),p=t(123),E=t.n(p),g=t(185),_=t(84),b=t(348),h=t.n(b).a.create({baseURL:"https://api.github.com/users/"}),v=function(e){return h.get(e)},f=r.a.createContext(),N=function(){return Object(n.useContext)(f)},y={isAuthorized:!1,avatar:""},A=function(e,a){switch(a.type){case"SET_AVATAR":return Object(_.a)(Object(_.a)({},e),{},{avatar:a.payload});case"SET_IS_AUTHORIZED":return Object(_.a)(Object(_.a)({},e),{},{isAuthorized:a.payload});default:return e}};function O(e){var a=e.children,t=Object(n.useReducer)(A,y),l=Object(i.a)(t,2),c=l[0],s=l[1],o=function(e){return s({type:"SET_AVATAR",payload:e})},m=function(){var e=Object(g.a)(E.a.mark((function e(a){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v(a);case 3:200===(t=e.sent).status&&(n=t.data.avatar_url,s({type:"SET_IS_AUTHORIZED",payload:!0}),o(n)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(f.Provider,{value:{getUserData:m,avatar:c.avatar,isAuthorized:c.isAuthorized}},a)}var w=Object(d.a)((function(e){return{large:{width:e.spacing(10),height:e.spacing(10),"@media (max-width: 768px)":{width:e.spacing(8),height:e.spacing(8)}}}}));function k(){var e=N().avatar,a=w();return r.a.createElement("div",{className:"sidebar"},r.a.createElement("div",{className:"sidebar__avatar"},r.a.createElement(o.a,{src:e,alt:"user's avatar",className:a.large})),r.a.createElement(u,null),r.a.createElement("footer",{className:"sidebar__footer"},"\xa9 Copyright 2020"))}t(394);function j(e){var a=e.toggleVisibility,t=Object(n.useState)(!1),l=Object(i.a)(t,2),c=l[0],s=l[1],o=c?"hamburger__line_open":"";return r.a.createElement("div",{className:"hamburger",onClick:function(){a(),s(!c)}},r.a.createElement("span",{className:"hamburger__line ".concat(o)}))}t(395);var C=t(312),x=t(316),S=t(315),T=t(476),R=t(313),z=t(314),D=t(191),L=t(26),I=r.a.createContext(),V=function(){return Object(n.useContext)(I)},M={terminalsList:[{id:1,name:"\u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b 1",description:"\u043f\u0435\u0440\u0432\u044b\u0439 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b"},{id:2,name:"\u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b 2",description:"\u0432\u0442\u043e\u0440\u043e\u0439 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b"},{id:3,name:"\u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b 3",description:"\u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b \u043f\u043e\u0441\u043b\u0435 \u0432\u0442\u043e\u0440\u043e\u0433\u043e"}]},U=function(e,a){switch(a.type){case"ADD_TERMINAL":return Object(_.a)(Object(_.a)({},e),{},{terminalsList:[].concat(Object(L.a)(e.terminalsList),[a.payload])});case"REMOVE_TERMINAL":return Object(_.a)(Object(_.a)({},e),{},{terminalsList:e.terminalsList.filter((function(e){return e.id!==a.payload}))});default:return e}};function F(e){var a=e.children,t=Object(n.useReducer)(U,M),l=Object(i.a)(t,2),c=l[0],s=l[1];return r.a.createElement(I.Provider,{value:{addTerminal:function(e){return s({type:"ADD_TERMINAL",payload:e})},removeTerminal:function(e){return s({type:"REMOVE_TERMINAL",payload:e})},terminals:c.terminalsList}},a)}var P=Object(d.a)({cell:{fontSize:15,maxWidth:100}});function B(e){var a=e.data,t=P(),n=V().removeTerminal;return r.a.createElement(T.a,{component:D.a},r.a.createElement(C.a,{"aria-label":"\u0441\u043f\u0438\u0441\u043e\u043a \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u043e\u0432"},r.a.createElement(R.a,null,r.a.createElement(z.a,null,r.a.createElement(S.a,{className:t.cell},"ID"),r.a.createElement(S.a,{className:t.cell,align:"center"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),r.a.createElement(S.a,{className:t.cell,align:"center"},"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),r.a.createElement(S.a,{className:t.cell,align:"center"}))),r.a.createElement(x.a,null,a.map((function(e){return r.a.createElement(z.a,{key:e.id},r.a.createElement(S.a,{className:t.cell,component:"th",scope:"row"},e.id),r.a.createElement(S.a,{className:t.cell,align:"center"},e.name),r.a.createElement(S.a,{className:t.cell,align:"center"},e.description),r.a.createElement(S.a,{className:t.cell,align:"center"},r.a.createElement("button",{className:"table__button",onClick:function(){return n(e.id)},title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c","aria-label":"\u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b"},"\xd7")))})))))}function Z(){var e=Object(n.useState)(""),a=Object(i.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(""),o=Object(i.a)(c,2),m=o[0],u=o[1],d=V(),p=d.terminals,E=d.addTerminal,g=N().isAuthorized;return r.a.createElement(r.a.Fragment,null,g?r.a.createElement("div",{className:"terminals"},r.a.createElement("h1",{className:"terminals__title"},"\u0422\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u044b"),r.a.createElement("form",{className:"terminals__form",onSubmit:function(e){if(e.preventDefault(),t.trim()||m.trim()){var a=p[p.length-1],n=a?a.id+1:1;E({id:n,name:t,description:m}),l(""),u("")}}},r.a.createElement("label",{className:"terminals__label"},r.a.createElement("span",{className:"visually-hidden"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0430"),r.a.createElement("input",{type:"text",className:"terminals__field",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0430",value:t,onChange:function(e){var a=e.target.value;l(a)}})),r.a.createElement("label",{className:"terminals__label"},r.a.createElement("span",{className:"visually-hidden"},"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),r.a.createElement("input",{type:"text",className:"terminals__field",placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0430",value:m,onChange:function(e){var a=e.target.value;u(a)}})),r.a.createElement("button",{className:"terminals__button",type:"submit"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")),r.a.createElement("div",{className:"terminals__table"},r.a.createElement(B,{data:p}))):r.a.createElement(s.a,{to:"/"}))}t(396);var W=t(233),H=t.n(W),J=t(345),$=r.a.createContext(),q=function(){return Object(n.useContext)($)},G={buyers:[{id:1,name:"\u0418\u0432\u0430\u043d",averageCheck:300,purchasesAmount:1,total:300},{id:2,name:"\u0418\u0432\u0430\u043d",averageCheck:3e3,purchasesAmount:5,total:6e3},{id:3,name:"\u0418\u0440\u0438\u043d\u0430",averageCheck:1e4,purchasesAmount:20,total:5e4},{id:4,name:"\u0424\u0435\u0434\u043e\u0440",averageCheck:1e3,purchasesAmount:4,total:5e3},{id:5,name:"\u0410\u043d\u0430\u0441\u0442\u0430\u0441\u0438\u044f",averageCheck:100,purchasesAmount:1,total:100},{id:6,name:"\u042e\u043b\u0438\u044f",averageCheck:6787,purchasesAmount:10,total:1567600},{id:7,name:"\u0415\u0433\u043e\u0440",averageCheck:588,purchasesAmount:9,total:67879},{id:8,name:"\u0424\u0435\u0434\u043e\u0440",averageCheck:123,purchasesAmount:11,total:1012310},{id:9,name:"\u041c\u0438\u0445\u0430\u0438\u043b",averageCheck:231,purchasesAmount:11,total:101230},{id:10,name:"\u0415\u043b\u0435\u043d\u0430",averageCheck:2131,purchasesAmount:11,total:1123100},{id:11,name:"\u0418\u0432\u0430\u043d",averageCheck:102,purchasesAmount:3,total:302},{id:12,name:"\u0410\u043d\u043d\u0430",averageCheck:12334,purchasesAmount:6,total:1242124},{id:13,name:"\u041c\u0438\u0445\u0430\u0438\u043b",averageCheck:5e3,purchasesAmount:4,total:2e4},{id:14,name:"\u0410\u043d\u043d\u0430",averageCheck:100,purchasesAmount:1,total:100},{id:15,name:"\u0410\u043d\u0430\u0441\u0442\u0430\u0441\u0438\u044f",averageCheck:1e3,purchasesAmount:10,total:8e3}]},K=function(e,a){return a.type,e};function Q(e){var a=e.children,t=Object(n.useReducer)(K,G),l=Object(i.a)(t,1)[0];return r.a.createElement($.Provider,{value:{getBuyer:function(e){return l.buyers.filter((function(a){return a.id===e}))},buyers:l.buyers}},a)}function X(){var e=q().buyers;return r.a.createElement(H.a,{title:"",columns:[{title:"ID",field:"id",type:"numeric",filtering:!1,sorting:!1,render:function(e){return r.a.createElement(m.b,{className:"table-link",to:"/buyers/".concat(e.id)},e.id)}},{title:"\u0418\u043c\u044f \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u044f",field:"name",sorting:!1},{title:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0447\u0435\u043a",field:"averageCheck",type:"numeric",filtering:!1},{title:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u043a\u0443\u043f\u043e\u043a",field:"purchasesAmount",type:"numeric",filtering:!1},{title:"\u041e\u0431\u0449\u0430\u044f \u0432\u044b\u0440\u0443\u0447\u043a\u0430",field:"total",type:"numeric",filtering:!1}],data:e,options:{search:!1,filtering:!0,sorting:!0,toolbar:!1,headerStyle:{fontSize:15,textAlign:"center"},rowStyle:{fontSize:15},cellStyle:{textAlign:"center"}},localization:{pagination:{labelDisplayedRows:"{from}-{to} \u0438\u0437 {count}",labelRowsSelect:"\u0441\u0442\u0440\u043e\u043a"}},components:{Pagination:function(e){return r.a.createElement(J.a,Object.assign({},e,{rowsPerPageOptions:[5,10,15],className:"toolbarFont"}))}}})}function Y(){var e=N().isAuthorized;return r.a.createElement(r.a.Fragment,null,e?r.a.createElement(s.a,{to:"/"}):r.a.createElement("div",{className:"buyers"},r.a.createElement("h1",{className:"buyers__title"},"\u041f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u0438"),r.a.createElement("div",{className:"buyers__table"},r.a.createElement(X,null))))}t(454);function ee(){var e=Object(s.g)().id,a=q().getBuyer,t=N().isAuthorized,n=a(Number(e))[0];return r.a.createElement(r.a.Fragment,null,t?"":r.a.createElement(s.a,{to:"/"}),n?r.a.createElement("div",{className:"buyer"},r.a.createElement("h1",{className:"buyer__title"},"\u041f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u044c #",n.id),r.a.createElement("ul",{className:"buyer__data-list"},r.a.createElement("li",{className:"buyer__data-item"},"\u0438\u043c\u044f:",r.a.createElement("span",{className:"buyer__data-value"},n.name)),r.a.createElement("li",{className:"buyer__data-item"},"\u0441\u0440\u0435\u0434\u043d\u0438\u0439 \u0447\u0435\u043a:",r.a.createElement("span",{className:"buyer__data-value"},n.averageCheck)),r.a.createElement("li",{className:"buyer__data-item"},"\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u043a\u0443\u043f\u043e\u043a:",r.a.createElement("span",{className:"buyer__data-value"},n.purchasesAmount))),r.a.createElement("p",{className:"buyer__total"},"\u041e\u0431\u0449\u0430\u044f \u0432\u044b\u0440\u0443\u0447\u043a\u0430:",r.a.createElement("span",{className:"buyer__data-value"},n.total))):r.a.createElement(s.a,{to:"/404"}))}t(455);function ae(){return r.a.createElement("div",{className:"error-page"},r.a.createElement("p",{className:"error-page__small-text"},"page not found"),r.a.createElement("p",{className:"error-page__large-text"},r.a.createElement("span",null,"4"),r.a.createElement("span",null,"0"),r.a.createElement("span",null,"4")),r.a.createElement("p",{className:"error-page__small-text"},"\u0418\u0437\u0432\u0438\u043d\u0438\u0442\u0435, \u0437\u0430\u043f\u0440\u043e\u0448\u0435\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"))}t(456);var te=t(354);function ne(){var e=N(),a=e.getUserData,t=e.isAuthorized,n=Object(te.a)({initialValues:{login:"",password:""},validate:function(e){var a={};return e.login||(a.login="\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u044d\u0442\u043e \u043f\u043e\u043b\u0435"),e.password?e.password.length<8?a.password="\u043f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u044c\u0448\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432":/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/.test(e.password)||(a.password="\u043f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0438\u0437 \u0446\u0438\u0444\u0440, \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0445 \u0441\u0442\u0440\u043e\u0447\u043d\u044b\u0445 \u0438 \u043f\u0440\u043e\u043f\u0438\u0441\u043d\u044b\u0445 \u0431\u0443\u043a\u0432"):a.password="\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u044d\u0442\u043e \u043f\u043e\u043b\u0435",a},onSubmit:function(){var e=Object(g.a)(E.a.mark((function e(r){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(r.login);case 2:if(t){e.next=6;break}return n.isValidating=!1,n.errors.login="\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d",e.abrupt("return");case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()});return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(s.a,{to:"/terminals"}):r.a.createElement("div",{className:"login-page"},r.a.createElement("h1",{className:"login-page__title"},"\u0412\u043e\u0439\u0442\u0438"),r.a.createElement("form",{className:"login-page__form",onSubmit:n.handleSubmit},r.a.createElement("label",{className:"login-page__label"},r.a.createElement("input",{className:"login-page__input ".concat(n.errors.login?"login-page__input_error":""),name:"login",type:"text",placeholder:"\u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",value:n.values.login,onChange:n.handleChange}),n.errors.login?r.a.createElement("small",{className:"login-page__error-text"},n.errors.login):null),r.a.createElement("label",{className:"login-page__label"},r.a.createElement("input",{className:"login-page__input ".concat(n.errors.password?"login-page__input_error":""),name:"password",type:"password",placeholder:"\u043f\u0430\u0440\u043e\u043b\u044c",value:n.values.password,onChange:n.handleChange}),n.errors.password?r.a.createElement("small",{className:"login-page__error-text"},n.errors.password):null),r.a.createElement("button",{className:"login-page__button",type:"submit"},"\u0412\u043e\u0439\u0442\u0438"))))}var re=function(){var e=Object(n.useState)(!1),a=Object(i.a)(e,2),t=a[0],l=a[1],c=N().isAuthorized,o=t?"App__sidebar-wrapper_visible":"",m=c?"":"App__sidebar-wrapper_hidden";return r.a.createElement(F,null,r.a.createElement(Q,null,r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App__sidebar-wrapper ".concat(o," ").concat(m)},r.a.createElement("div",{className:"App__sidebar"},r.a.createElement(k,null)),r.a.createElement(j,{toggleVisibility:function(){l(!t)}})),r.a.createElement("main",{className:"App__content"},r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/react-task/",render:function(){return r.a.createElement(ne,null)}}),r.a.createElement(s.b,{path:"/terminals",render:function(){return r.a.createElement(Z,null)}}),r.a.createElement(s.b,{exact:!0,path:"/buyers/",render:function(){return r.a.createElement(Y,null)}}),r.a.createElement(s.b,{path:"/buyers/:id",render:function(){return r.a.createElement(ee,null)}}),r.a.createElement(s.b,{path:"/404",render:function(){return r.a.createElement(ae,null)}}),r.a.createElement(s.a,{from:"*",to:"/404"}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(m.a,null,r.a.createElement(O,null,r.a.createElement(re,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[363,1,2]]]);
//# sourceMappingURL=main.f4acaf6d.chunk.js.map